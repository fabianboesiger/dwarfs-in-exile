{% extends "base.html" %}
{% block content %}
    <link rel="modulepreload" href="/pkg/package.js" as="script" type="text/javascript">
    <link rel="preload" href="/pkg/package_bg.wasm" as="fetch" type="application/wasm" crossorigin="anonymous">
    <script>
        // Check if the browser supports the beforeinstallprompt event
        if ('serviceWorker' in navigator && 'BeforeInstallPromptEvent' in window) {
          window.addEventListener('load', () => {
            // Wait for the beforeinstallprompt event
            window.addEventListener('beforeinstallprompt', (event) => {
              // Prevent the default "Add to Home Screen" prompt
              event.preventDefault();
              // Automatically show the "Add to Home Screen" prompt on page load
              event.prompt();
            });
          });
        }
    </script>
    <script type="module">
        import init from '/pkg/package.js';
        init('/pkg/package_bg.wasm');
    </script>
{% endblock %}